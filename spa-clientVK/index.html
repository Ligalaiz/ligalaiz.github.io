<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <script src="http://vk.com/js/api/openapi.js?160"></script>
    <link rel="stylesheet" href="css/style.css" />
    <title>ClientVK</title>
  </head>
  <body>
    <div class="container">
      <div id="header"></div>

      <div class="btn-group  btn-group-lg">
        <a href="#friends" class="btn btn-default" data-role="nav-friends"
          >Firends</a
        >
        <a href="#news" class="btn btn-default" data-role="nav-news">News</a>
      </div>

      <hr />

      <div id="results"></div>
    </div>

    <script src="js/main.js" type="module"></script>

    <script id="headerTemplate" type="text/template">
      <h1>VK Data {{first_name}} {{last_name}}</h1>
    </script>

    <script id="friendsTemplate" type="text/template">
      <div>
        <div>
          <select data-role="sort">
            <option value="name">Name</option>
            <option value="bday">Birthday</option>
          </select>
        </div>

        <div class="flex-container">
          {{#each list}}
          <div class="friend text-center">
            <a href="#friends/{{id}}"><img src="{{ photo_100 }}" class="img-circle"></a>
            <div>{{ first_name }}<br>{{ last_name }}</div>
            <div>{{ formatBDay bdate }}</div>
          </div>
          {{/each}}
        </div>
      </div>
    </script>

    <script id="friendTemplate" type="text/template">
      <div>
        <a href="https://vk.com/id{{ id }}" target="_blank">
          <img src="{{ photo_100 }}" class="img-circle">
        </a>
        <div>{{ first_name }} {{ last_name }}</div>
        <div>{{ country.title }} {{ city.title }}</div>
        {{#if bdate}}
        <div>Birthday: {{formatBDay bdate}}</div>
        {{/if}}
      </div>
    </script>

    <script id="newsTemplate" type="text/template">
      <div class="news">
        {{#each list}}
        {{#if text}}
        <div class="post">
          <b>{{formatDate date}}</b>
          <div class="post-text">{{ text }}</div>
        </div>
        <hr>
        {{/if}}
        {{/each}}
      </div>
    </script>
  </body>
</html>
